const canvas = document.getElementById("map");
const ctx = canvas.getContext("2d");

// Canvas boyutları
canvas.width = 800;
canvas.height = 400;

// Dünya haritasını yükleme
const worldMap = new Image();
worldMap.src = "https://upload.wikimedia.org/wikipedia/commons/e/ed/Mercator_projection_SW.jpg";
worldMap.onload = () => {
  ctx.drawImage(worldMap, 0, 0, canvas.width, canvas.height);
};

// Boyama ayarları
let painting = false;
let brushColor = "#ff0000";
let brushSize = 5;

// Etkinlikler
canvas.addEventListener("mousedown", () => (painting = true));
canvas.addEventListener("mouseup", () => {
  painting = false;
  ctx.beginPath();
});
canvas.addEventListener("mousemove", draw);

// Çizim fonksiyonu
function draw(event) {
  if (!painting) return;

  const rect = canvas.getBoundingClientRect();
  const x = event.clientX - rect.left;
  const y = event.clientY - rect.top;

  ctx.fillStyle = brushColor;
  ctx.beginPath();
  ctx.arc(x, y, brushSize, 0, Math.PI * 2);
  ctx.fill();
}

// Araçlar
document.getElementById("clear").addEventListener("click", () => {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.drawImage(worldMap, 0, 0, canvas.width, canvas.height);
});

document.getElementById("color").addEventListener("input", (e) => {
  brushColor = e.target.value;
});

document.getElementById("small-brush").addEventListener("click", () => {
  brushSize = 5;
});

document.getElementById("medium-brush").addEventListener("click", () => {
  brushSize = 10;
});

document.getElementById("large-brush").addEventListener("click", () => {
  brushSize = 20;
});
